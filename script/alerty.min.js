/*!
 * alerty v0.0.1 (https://github.com/undead25/alerty#readme)
 * Copyright 2016 undead25
 * Licensed under the MIT license
 */
!function(){"use strict";function e(){var o={defaults:{okLabel:"OK",cancelLabel:"Cancel",time:2e3},previousCallback:null,template:'<div class="alerty-overlay" tabindex="-1"></div><div class="alerty"><div class="alerty-title"></div><div class="alerty-content"><p class="alerty-message"></p><div class="alerty-prompt"><input type="text" placeholder="" value=""><div class="input-line"></div></div></div><div class="alerty-action"><a class="btn-cancel"></a><a class="btn-ok"></a></div></div>',setup:function(e,t,n,l,o){"function"==typeof n&&(o=l,l=n);var r=document.querySelector(".alerty");r&&(v(r),v(document.querySelector(".alerty-overlay")),(f=this.previousCallback)&&f());var a=document.createElement("div");for(a.innerHTML=this.template;a.firstChild;)document.body.appendChild(a.firstChild);var i=document.querySelector(".alerty"),c=document.querySelector(".alerty-overlay"),u=i.querySelector(".alerty-title"),s=i.querySelector(".alerty-message"),d=i.querySelector(".alerty-action"),p=i.querySelector(".btn-ok"),y=i.querySelector(".btn-cancel"),r=i.querySelector(".alerty-prompt"),f=r.querySelector("input");i.id=b("alerty"),c.id="overlay-"+i.id,m(c,"active"),m(i,"alerty-show"),s.innerHTML=t,n&&n.time&&(this.defaults.time=n.time),"prompt"!==e?v(r):(f.focus(),n&&n.inputType&&f.setAttribute("type",n.inputType),n&&n.inputPlaceholder&&f.setAttribute("placeholder",n.inputPlaceholder),n&&n.inputValue&&f.setAttribute("value",n.inputValue)),"toasts"===e?(this.previousCallback=l,v(u),v(d),v(c),m(i,"toasts"),n&&"top"===n.place&&m(i,"place-top"),n&&n.bgColor&&(i.style.backgroundColor=n.bgColor),n&&n.fontColor&&(s.style.color=n.fontColor)):(m(document.body,"no-scrolling"),n&&n.title?u.innerHTML=n.title:v(u),n&&n.okLabel?p.innerHTML=n.okLabel:p.innerHTML=this.defaults.okLabel,i.style.marginTop=-i.offsetHeight/2+"px","confirm"===e||"prompt"===e?n&&n.cancelLabel?y.innerHTML=n.cancelLabel:y.innerHTML=this.defaults.cancelLabel:v(y)),this.bindEvent(i,l,o)},bindEvent:function(e,t,n){var l=this,o=e.querySelector(".btn-ok"),r=e.querySelector(".btn-cancel");a(e,"toasts")&&setTimeout(function(){null!==document.getElementById(e.id)&&l.close(e,t)},l.defaults.time),o&&i(o,"click",function(){l.close(e,t)}),r&&i(r,"click",function(){l.close(e,n)})},close:function(e,t){var n=e.querySelector("input"),l=document.getElementById("overlay-"+e.id);r(e,"alerty-show"),m(e,"alerty-hide"),setTimeout(function(){l&&r(l,"active"),r(document.body,"no-scrolling"),v(e),v(l),t&&setTimeout(function(){n?t(n.value):t()},100)},100)}};return{toasts:function(e,t,n){o.setup("toasts",e,t,n)},alert:function(e,t,n){o.setup("alert",e,t,n)},confirm:function(e,t,n,l){o.setup("confirm",e,t,n,l)},prompt:function(e,t,n,l){o.setup("prompt",e,t,n,l)}}}var m=function(e,t){var n=e.className,t=n+(""!==n?" ":"")+t;e.className=t},r=function(e,t){t=(t=(" "+e.className+" ").replace(/(\s+)/gi," ").replace(" "+t+" "," ")).replace(/(^\s+)|(\s+$)/g,"");e.className=t},a=function(e,t){var n=e.className.split(/\s+/),l=0;for(l in n)if(n[l]==t)return!0;return!1},i=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},v=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},b=function(e){for(;e+=Math.floor(1e6*Math.random()),document.getElementById(e););return e};if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new e};var t,n=new e;for(t in n)module.exports[t]=n[t]}else"function"==typeof define&&define.amd?define(function(){return new e}):window.alerty=new e}();